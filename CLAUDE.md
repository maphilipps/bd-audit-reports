# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

BD-Audit Reports is a VitePress-based documentation site for website audits created by adesso SE Business Developers. Reports analyze client websites for technical quality, legal compliance, marketing effectiveness, UX, and accessibility, with CMS recommendations.

## Commands

```bash
# Development
npm run dev          # Start dev server
npm run build        # Build for production
npm run preview      # Preview production build

# Deploy (via Netlify)
npm run deploy       # Build + deploy to Netlify
bash scripts/deploy.sh [customer-slug] [--prod|--preview]

# Create new customer report
bash scripts/new-customer.sh <slug> <bd-name> [--url URL] [--company NAME]
```

## Architecture

### Report Structure

Reports are VitePress markdown files organized by date and customer:
```
reports/YYYY/MM/<customer-slug>/index.md
```

Each report uses frontmatter for metadata (title, domain, leadScore, cmsDetected) and Vue components for interactive elements.

### Custom Vue Components

Located in `.vitepress/theme/components/`, globally registered:

| Component | Purpose | Usage |
|-----------|---------|-------|
| `<ScoreDashboard>` | Grid of score metrics | `:scores="{ overall: 35, technical: 54, ... }"` |
| `<ScoreCard>` | Single score with status | `:score="61" :label="Performance" status="warning"` |
| `<ProgressBar>` | Visual progress indicator | `:value="75" status="success"` |
| `<Timeline>` | Project timeline/roadmap | Accepts items with date, title, description |
| `<FeatureGrid>` | Feature cards grid | For listing capabilities |
| `<ComparisonTable>` | CMS comparison tables | Sticky first column |

Status values: `critical` (red, <50), `warning` (orange, 50-74), `success` (green, 75+), `info` (blue)

### adesso Brand Theme

CSS variables in `.vitepress/theme/custom.css`:
- Primary: `--adesso-blue: #006EC7`
- Status: `--adesso-green`, `--adesso-orange`, `--adesso-red`
- Font: Fira Sans (body), Fira Code (mono)

### BD-Audit Plugin Integration

Reports are typically generated by the `bd-audit` Claude Code plugin agents. The `/bd <url>` command triggers a multi-phase audit with 50+ specialized agents across categories:
- Discovery (tech stack, company profile, sitemap)
- Technical (performance, accessibility, SEO, security)
- Legal (GDPR, cookies, BFSG compliance)
- Marketing (brand, conversion, competitors)
- UX (navigation, forms, mobile)
- Synthesis (recommendations, roadmap, report generation)

### Customer Directory Structure (legacy/per-customer approach)

When using `new-customer.sh`, each customer gets isolated setup:
```
customers/<slug>/
â”œâ”€â”€ .vitepress/config.mts
â”œâ”€â”€ analyse/           # Technical analysis pages
â”œâ”€â”€ empfehlung/        # Recommendations (CMS, roadmap, costs)
â”œâ”€â”€ anhang/            # Appendix
â”œâ”€â”€ package.json
â””â”€â”€ netlify.toml
```

## Report Writing Conventions

- Scores use 0-100 scale
- Use German language for report content
- Include Lead Score with recommendation (Akquise vs Partnerschaft)
- Use emoji indicators: âœ… positive, ðŸ”´ critical, ðŸŸ¡ warning
- Tables for structured data, callout blocks (`::: warning`, `::: danger`, `::: tip`) for emphasis
- Always include Executive Summary and Handlungsempfehlung sections
